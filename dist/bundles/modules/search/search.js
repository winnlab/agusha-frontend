/*modules/search/search*/
define("modules/search/search",["controller","js/app/user/modules/encyclopedia/encyclopediaHelpers"],function(t,e){"use strict";t&&t.__esModule||(t={"default":t}),e&&e.__esModule||(e={"default":e});var s=t["default"],a=e["default"],i=s.extend({defaults:{}},{variables:function(){this.active="active",this.tab_blocks=this.element.find(".tab_block")},sizes:function(){this.reRenderArticles()},after_init:function(t){this.articlesSource=t?t.articles:app.articles,this.consultationsSource=t?t.consultations:app.consultations;var e,s,i=a.sortArticles(this.articlesSource,null,!1),c=a.sortArticles(this.consultationsSource,null,!1),l=can.Map.extend({articles:i,consultations:c,filter:0,module:"search"});this.data=new l;var n=$("#article_mustache");e=n.length?n.html():jadeTemplate.get("user/search/article_mustache"),can.view.mustache("article",e);var o=$("#consultation_mustache");s=o.length?o.html():jadeTemplate.get("user/search/consultation_mustache"),can.view.mustache("consultation",s),this.tab_blocks.filter(".articles_block").find(".items_container").html(can.view("article",this.data,a)),this.tab_blocks.filter(".consultations_block").find(".items_container").html(can.view("consultation",this.data,a)),this.tab_blocks.filter(":not(.active)").find(".items_container").hide()},reRenderArticles:function(){if(this.data){var t=a.sortArticles(this.articlesSource,null,!1);this.data.attr("articles",t);var e=a.sortArticles(this.consultationsSource,null,!1);this.data.attr("consultations",e)}},".tab_block .title click":function(t){var e=t.parent(),s=t.next(),a="slideDown";e.hasClass(this.active)&&(a="slideUp"),s.stop(!0,!1)[a](300),e.toggleClass(this.active)}});return{get default(){return i},__esModule:!0}});