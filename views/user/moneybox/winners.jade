- var gender = ['', 'мальчик', 'девочка']

mixin winner_child(g, key, length)
	span #{gender[g]}
	if (key + 1) != length
		span , 

mixin winner(w)
	.winner_item
		.winner_image(class = (user && user._id == w._id ? 'crown' : ''))
			img(src = (w.image && w.image.medium ? w.image.medium : '/img/user/helpers/stub/medium.png'))
		.winner_name #{w.profile.first_name} #{w.profile.middle_name} #{w.profile.last_name}
		
		if w.children && w.children.length
			.children
				span Детки: 
				- each c, key in w.children
					mixin winner_child(c.gender, key, w.children.length)

mixin congratz(month)
	.congratz.adorable_table
		.adorable_cell='Поздравляем победителей ' + month + 'ского розыгрыша!'

mixin your_prize()
	.your_prize.adorable_table
		.adorable_cell Ваш подарок

mixin winners_note()
	.winners_note.adorable_table
		.adorable_cell
			div Победители были выбраны случайным образом среди всех пользователей данного уровня. 
			br
			div Мы разыгрываем полезные и интересные подарки для ваших малышей каждый месяц.
			div Возможно, в следующий раз повезет именно вам. Удачи!

.tab_content.tab_selector.winners(class = (test ? 'active' : ''))
	.winner_title
		.adorable_table
			.adorable_cell.left Результаты розыгрыша
		
		.calendars_container
			.calendar.winner_selector.winner_selector_0(data-index = 0)
				.topper.adorable_table
					.adorable_cell Март
				
				.number.adorable_table
					.adorable_cell 2
			
			.calendar.winner_selector.winner_selector_1(data-index = 1)
				.topper.adorable_table
					.adorable_cell Апрель
				
				.number.adorable_table
					.adorable_cell 6
			
			.calendar.winner_selector.winner_selector_2.active(data-index = 2)
				.topper.adorable_table
					.adorable_cell Май
				
				.number.adorable_table
					.adorable_cell 7
	
	.winners_topper.adorable_table
		.winners_td.level Уровень
		.winners_td.prize Приз
		.winners_td.count Победители
	
	.winner_blocks
		.winner_block.winner_selector(class = 'winner_selector_' + 0 + (0 == winners.length - 1 ? ' active' : ''))
			.tab_block.faq_block.winners_novice
				.title
					.adorable_table
						.winners_td.level
							.level_content
								.adorable_table
									.adorable_cell.left
										.rank_title Новичок
						
						.winners_td.prize Силиконовый слюнявчик
						
						.winners_td.count
							.counter=winners[0].data.novice.length
				
				.text
					mixin congratz('февраль')
					
					.winner_list
						- each w, key in winners[0].data.novice
							mixin winner(w)
					
					mixin your_prize()
					
					.prize_image_container(data-image = 1)
						.prize_image_arrow.left_arrow
						.prize_image_arrow.right_arrow
						.prize_image.prize_image_1.novice_1.active(data-image = 1)
						.prize_image.prize_image_2.novice_2(data-image = 2)
						.prize_image.prize_image_3.novice_3(data-image = 3)
						.prize_image.prize_image_4.novice_4(data-image = 4)
						.prize_image.prize_image_5.novice_5(data-image = 5)
					
					.prize_name Силиконовый слюнявчик
					
					mixin winners_note()
			
			.tab_block.faq_block.winners_disciple
				.title
					.adorable_table
						.winners_td.level
							.level_content
								.adorable_table
									.adorable_cell.left
										.rank_title УЧЕНИК
						
						.winners_td.prize Полотенце с капюшоном
						
						.winners_td.count
							.counter=winners[0].data.disciple.length
				
				.text
					mixin congratz('февраль')
					
					.winner_list
						.fixed_table
							- each w, key in winners[0].data.disciple
								mixin winner(w)
					
					mixin your_prize()
					
					.prize_image_container(data-image = 1)
						.prize_image_arrow.left_arrow
						.prize_image_arrow.right_arrow
						.prize_image.prize_image_1.disciple_1.active(data-image = 1)
						.prize_image.prize_image_2.disciple_2(data-image = 2)
						.prize_image.prize_image_3.disciple_3(data-image = 3)
						.prize_image.prize_image_4.disciple_4(data-image = 4)
						.prize_image.prize_image_5.disciple_5(data-image = 5)
					
					.prize_name Полотенце с капюшоном
					
					.winners_note.adorable_table
						.adorable_cell
							div Победители были выбраны случайным образом среди всех пользователей данного уровня. 
							br
							div Мы разыгрываем полезные и интересные подарки для ваших малышей каждый месяц.
							div Возможно, в следующий раз повезет именно вам. Удачи!
			
			.tab_block.faq_block.winners_adept
				.title
					.adorable_table
						.winners_td.level
							.level_content
								.adorable_table
									.adorable_cell.left
										.rank_title ЗНАТОК
						
						.winners_td.prize Детская постель
						
						.winners_td.count
							.counter=winners[0].data.adept.length
				
				.text
					mixin congratz('февраль')
					
					.winner_list
						.fixed_table
							- each w, key in winners[0].data.adept
								mixin winner(w)
					
					mixin your_prize()
					
					.prize_image_container(data-image = 1)
						.prize_image_arrow.left_arrow
						.prize_image_arrow.right_arrow
						.prize_image.prize_image_1.adept_1.active(data-image = 1)
						.prize_image.prize_image_2.adept_2(data-image = 2)
						.prize_image.prize_image_3.adept_3(data-image = 3)
						.prize_image.prize_image_4.adept_4(data-image = 4)
						.prize_image.prize_image_5.adept_5(data-image = 5)
					
					.prize_name Детская постель
					
					mixin winners_note()
			
			.tab_block.faq_block.winners_expert
				.title
					.adorable_table
						.winners_td.level
							.level_content
								.adorable_table
									.adorable_cell.left
										.rank_title ЭКСПЕРТ
						
						.winners_td.prize Детский набор: варежки, шапочка, шарфик
						
						.winners_td.count
							.counter=winners[0].data.expert.length
				
				.text
					mixin congratz('февраль')
					
					.winner_list
						.fixed_table
							- each w, key in winners[0].data.expert
								mixin winner(w)
					
					mixin your_prize()
					
					.prize_image_container(data-image = 1)
						.prize_image_arrow.left_arrow
						.prize_image_arrow.right_arrow
						.prize_image.prize_image_1.expert_1.active(data-image = 1)
						.prize_image.prize_image_2.expert_2(data-image = 2)
					
					.prize_name Детский набор: варежки, шапочка, шарфик
					
					mixin winners_note()
			
			.tab_block.faq_block.winners_pro
				.title
					.adorable_table
						.winners_td.level
							.level_content
								.adorable_table
									.adorable_cell.left
										.rank_title ПРОФИ
						
						.winners_td.prize Детский чемодан Trunki
						
						.winners_td.count
							.counter=winners[0].data.pro.length
				
				.text
					mixin congratz('февраль')
					
					.winner_list
						.fixed_table
							- each w, key in winners[0].data.pro
								mixin winner(w)
					
					mixin your_prize()
					
					.prize_image_container(data-image = 1)
						.prize_image_arrow.left_arrow
						.prize_image_arrow.right_arrow
						.prize_image.prize_image_1.pro_1.active(data-image = 1)
						.prize_image.prize_image_2.pro_2(data-image = 2)
						.prize_image.prize_image_3.pro_3(data-image = 3)
					
					.prize_name Детский чемодан Trunki
					
					mixin winners_note()
		
		.winner_block.winner_selector(class = 'winner_selector_' + 1 + (1 == winners.length - 1 ? ' active' : ''))
				.tab_block.faq_block.winners_novice
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title Новичок
							
							.winners_td.prize Силиконовый слюнявчик
							
							.winners_td.count
								.counter=winners[1].data.novice.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							- each w, key in winners[1].data.novice
								mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.novice_1.active(data-image = 1)
							.prize_image.prize_image_2.novice_2(data-image = 2)
							.prize_image.prize_image_3.novice_3(data-image = 3)
							.prize_image.prize_image_4.novice_4(data-image = 4)
							.prize_image.prize_image_5.novice_5(data-image = 5)
						
						.prize_name Силиконовый слюнявчик
						
						mixin winners_note()
				
				.tab_block.faq_block.winners_disciple
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title УЧЕНИК
							
							.winners_td.prize Полотенце с капюшоном
							
							.winners_td.count
								.counter=winners[1].data.disciple.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[1].data.disciple
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.disciple_1.active(data-image = 1)
							.prize_image.prize_image_2.disciple_2(data-image = 2)
							.prize_image.prize_image_3.disciple_3(data-image = 3)
							.prize_image.prize_image_4.disciple_4(data-image = 4)
							.prize_image.prize_image_5.disciple_5(data-image = 5)
						
						.prize_name Полотенце с капюшоном
						
						.winners_note.adorable_table
							.adorable_cell
								div Победители были выбраны случайным образом среди всех пользователей данного уровня. 
								br
								div Мы разыгрываем полезные и интересные подарки для ваших малышей каждый месяц.
								div Возможно, в следующий раз повезет именно вам. Удачи!
				
				.tab_block.faq_block.winners_adept
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title ЗНАТОК
							
							.winners_td.prize Детская постель
							
							.winners_td.count
								.counter=winners[1].data.adept.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[1].data.adept
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.adept_1.active(data-image = 1)
							.prize_image.prize_image_2.adept_2(data-image = 2)
							.prize_image.prize_image_3.adept_3(data-image = 3)
							.prize_image.prize_image_4.adept_4(data-image = 4)
							.prize_image.prize_image_5.adept_5(data-image = 5)
						
						.prize_name Детская постель
						
						mixin winners_note()
				
				.tab_block.faq_block.winners_expert
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title ЭКСПЕРТ
							
							.winners_td.prize Детский рюкзак Trunki
							
							.winners_td.count
								.counter=winners[1].data.expert.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[1].data.expert
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.expert_11.active(data-image = 1)
						
						.prize_name Детский рюкзак Trunki
						
						mixin winners_note()
				
				.tab_block.faq_block.winners_pro
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title ПРОФИ
							
							.winners_td.prize Детский чемодан Trunki
							
							.winners_td.count
								.counter=winners[1].data.pro.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[1].data.pro
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.pro_1.active(data-image = 1)
							.prize_image.prize_image_2.pro_2(data-image = 2)
							.prize_image.prize_image_3.pro_3(data-image = 3)
						
						.prize_name Детский чемодан Trunki
						
						mixin winners_note()
		
		.winner_block.winner_selector(class = 'winner_selector_' + 2 + (2 == winners.length - 1 ? ' active' : ''))
				.tab_block.faq_block.winners_novice
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title Новичок
							
							.winners_td.prize Силиконовый слюнявчик
							
							.winners_td.count
								.counter=winners[2].data.novice.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							- each w, key in winners[2].data.novice
								mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.novice_1.active(data-image = 1)
							.prize_image.prize_image_2.novice_2(data-image = 2)
							.prize_image.prize_image_3.novice_3(data-image = 3)
							.prize_image.prize_image_4.novice_4(data-image = 4)
							.prize_image.prize_image_5.novice_5(data-image = 5)
						
						.prize_name Силиконовый слюнявчик
						
						mixin winners_note()
				
				.tab_block.faq_block.winners_disciple
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title УЧЕНИК
							
							.winners_td.prize Полотенце с капюшоном
							
							.winners_td.count
								.counter=winners[2].data.disciple.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[2].data.disciple
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.disciple_1.active(data-image = 1)
							.prize_image.prize_image_2.disciple_2(data-image = 2)
							.prize_image.prize_image_3.disciple_3(data-image = 3)
							.prize_image.prize_image_4.disciple_4(data-image = 4)
							.prize_image.prize_image_5.disciple_5(data-image = 5)
						
						.prize_name Полотенце с капюшоном
						
						.winners_note.adorable_table
							.adorable_cell
								div Победители были выбраны случайным образом среди всех пользователей данного уровня. 
								br
								div Мы разыгрываем полезные и интересные подарки для ваших малышей каждый месяц.
								div Возможно, в следующий раз повезет именно вам. Удачи!
				
				.tab_block.faq_block.winners_adept
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title ЗНАТОК
							
							.winners_td.prize Детская постель
							
							.winners_td.count
								.counter=winners[2].data.adept.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[2].data.adept
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.adept_1.active(data-image = 1)
							.prize_image.prize_image_2.adept_2(data-image = 2)
							.prize_image.prize_image_3.adept_3(data-image = 3)
							.prize_image.prize_image_4.adept_4(data-image = 4)
							.prize_image.prize_image_5.adept_5(data-image = 5)
						
						.prize_name Детская постель
						
						mixin winners_note()
				
				.tab_block.faq_block.winners_expert
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title ЭКСПЕРТ
							
							.winners_td.prize Детский рюкзак Trunki
							
							.winners_td.count
								.counter=winners[2].data.expert.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[2].data.expert
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.expert_11.active(data-image = 1)
						
						.prize_name Детский рюкзак Trunki
						
						mixin winners_note()
				
				.tab_block.faq_block.winners_pro
					.title
						.adorable_table
							.winners_td.level
								.level_content
									.adorable_table
										.adorable_cell.left
											.rank_title ПРОФИ
							
							.winners_td.prize Детский чемодан Trunki
							
							.winners_td.count
								.counter=winners[2].data.pro.length
					
					.text
						mixin congratz('мартов')
						
						.winner_list
							.fixed_table
								- each w, key in winners[2].data.pro
									mixin winner(w)
						
						mixin your_prize()
						
						.prize_image_container(data-image = 1)
							.prize_image_arrow.left_arrow
							.prize_image_arrow.right_arrow
							.prize_image.prize_image_1.pro_1.active(data-image = 1)
							.prize_image.prize_image_2.pro_2(data-image = 2)
							.prize_image.prize_image_3.pro_3(data-image = 3)
						
						.prize_name Детский чемодан Trunki
						
						mixin winners_note()